<div class="metrics-container">
  <div class="metrics container-fluid">
    <div class="row">
      <%= render 'metric', title: 'money in', metric_value: @cashflow.total_money_in.abs, delta: @cashflow.delta[:delta_money_in] %>
      <%= render 'metric', title: 'money out', metric_value: @cashflow.total_money_out.abs, delta: @cashflow.delta[:delta_money_out]  %>
      <%= render 'metric', title: 'money leftover', metric_value: @cashflow.total_money_saved, delta: @cashflow.delta[:delta_money_saved] %>
    </div>
    <%= render 'time_period_scale' %>
  </div>
</div>
<div class="container mt-4">
  <div class="row">
    <div class="col-lg-7 pl-0">
      <%= render 'categorized_earnings' %>
      <%= render 'category_spend' %>
    </div>
    <div class="col-lg-5 transactions-container scrollable content">
      <div class="row header">
        <div class="text-left col-lg-6 lg-18" id="tx-header">Transactions</div>
        <div class="text-right small col-lg-6 py-2 grey"><%= formatted_time_period(@start_date, @end_date) %></div>
      </div>
      
      <table class="table transactions hoverable">
        <tbody>
        <% @transactions.each do |tx| %>
        <tr class="small">
          <td>
            <div class="small"><%= tx.description %></div>
            <div class="small grey"><%= tx.formatted_occurred_at %></div>
          </td>
          <td class="text-right small"><%= number_to_currency(tx.amount)%></td>
        </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

