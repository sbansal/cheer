var txDetailsElement = document.getElementById("transaction-detail-<%= @transaction.id%>")
var parentElement = document.getElementById("tx-<%= @transaction.id%>")
if (txDetailsElement) {
  parentElement.removeChild(txDetailsElement)
  parentElement.classList.remove("primary-900-bg", "rounded-3", "border", "shadow-sm", "mb-3")
  parentElement.querySelector('.chevron-right').classList.remove('chevron-bottom')
  if (parentElement.nextElementSibling) {
    parentElement.nextElementSibling.classList.add("border-bottom")
  }
} else {
  parentElement.insertAdjacentHTML("beforeend", "<%= j (render 'transaction_detail', tx: @transaction) %>")
  parentElement.classList.add("primary-900-bg", "rounded-3", "border", "shadow-sm", "mb-3")
  parentElement.querySelector('.chevron-right').classList.add('chevron-bottom')
  if (parentElement.nextElementSibling) {
    parentElement.nextElementSibling.classList.remove("border-bottom")
  }
}
