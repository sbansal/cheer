<% if @transactions.empty? %>
<div class="text-center grey-100 py-5">No transactions found.</div>
<% else %>
<% @transactions.each do |transaction| %>
<div class="row py-3 border-bottom tx-row" id="tx-<%= transaction.id %>" data-controller="transactions"
  data-tx-id="<%= transaction.id%>" data-action="click->transactions#fetchTransactionDetails">
  <div class="col-3 med">
    <div><%= transaction.formatted_occurred_at %></div>
  </div>
  <div class="col-6">
    <div>
      <span class="med"><%= transaction.custom_description %></span>
      <% if transaction.pending? %>
      <span class="status rounded-pill px-2 py-1 xs <%= transaction.status %>"><%= transaction.status.humanize %></span>
      <% end %>
      <div class="grey-100 med"><%= transaction.category.category_list%></div>
    </div>
  </div>
  <div class="col-3">
    <div class="row">
      <div class="col-sm-9 text-start med">
        <div class="<%=tx_amount_type(transaction.amount).downcase%>">
          <%= signed_number_to_currency(transaction.amount)%>
        </div>
      </div>
      <div class="col-sm-3 med text-start chevron-right"></div>
    </div>
  </div>
</div>
<% end %>
<% end %>
<div class="my-3 mx-auto justify-content-center med primary">
  <%== render 'shared/pagy_nav', pagy: @pagy %>
</div>
