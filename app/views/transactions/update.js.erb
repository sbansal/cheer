document.getElementById('transaction-details').innerHTML = "<%= j (render @transaction) %>"

<% if @custom_description %>
  //update the transaction summary desc
  var txRowDesc = document.querySelector("#tx-<%= @transaction.id %> span.custom-desc")
  if (txRowDesc) {
    txRowDesc.innerText = "<%= @custom_description %>"
  }
  //update the transaction summary desc for related rows
  <% @related_transactions&.each do |tx| %>
  console.log("Updating tx desc with id = <%= tx.id%>")
  var desc = document.querySelector("#tx-<%= tx.id%> span.custom-desc")
  if (desc) {
    desc.innerText = "<%= @custom_description %>";
  }
  <% end %>
<% elsif @category_list%>
  var txRowCategory = document.querySelector("#tx-<%= @transaction.id %> div.category-list")
  if (txRowCategory) {
    txRowCategory.innerText = "<%= @category_list %>"
  }
  <% @related_transactions&.each do |tx| %>
  console.log("Updating tx category with id = <%= tx.id%>")
  var categoryList = document.querySelector("#tx-<%= tx.id%> div.category-list")
  if (categoryList) {
    categoryList.innerText = "<%= @category_list %>";
  }
  <% end %>
<% end %>
